<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>OG Experience Card</title>
		<!-- Open Graph Meta Tags -->
		<meta property="og:title" content="OG Experience" />
		<meta property="og:description" content="Experience the OG story" />
		<meta property="og:type" content="website" />
		<meta
			property="og:url"
			content="https://deekshithrathod.github.io/final-card/" />
		<meta
			property="og:image"
			content="https://deekshithrathod.github.io/final-card/temp/og.png" />
		<meta property="og:image:width" content="1200" />
		<meta property="og:image:height" content="630" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:title" content="OG Experience Card" />
		<meta
			name="twitter:description"
			content="A visually stunning animated card with layered images and video background." />
		<meta
			name="twitter:image"
			content="https://deekshithrathod.github.io/final-card/temp/og.png" />
		<style>
			body {
				margin: 0;
				height: 100vh;

				display: flex;
				align-items: center;
				justify-content: center;

				/* background: #f0f0f0; */
				background-image: url("./temp/card_background.png");
				background-repeat: no-repeat;
				background-position: center center;
				background-size: auto 100vh;

				perspective: 1000px;
			}
			.aspect-ratio-box {
				background-color: rebeccapurple;
				position: relative;
				height: 70vh;
				width: 30vw;
				/* aspect-ratio: 9 / 16; */
				background-color: transparent;

				display: flex;
				align-items: center;
				justify-content: center;
				border-radius: 2rem;

				transform: rotateX(10deg) rotateY(0);
				transform-style: preserve-3d;
				animation: swingY 4s infinite alternate linear;
				/* scale: 1.1; */
			}

			.aspect-ratio-box img {
				background-color: rebeccapurple;

				position: absolute;
				top: 0;
				left: 0;
				width: 100%;
				height: 100%;
				object-fit: contain;
				border-radius: 2rem;
			}

			.aspect-ratio-box video {
				scale: 0.9;
			}

			/* .video-crop-container {
				width: 720px;
				height: 1080px;
				overflow: hidden;
				position: relative;
				display: flex;
				align-items: center;
				justify-content: center;
				border-radius: 3rem;
			}

			.video-crop-container video {
				width: 150%;
				position: absolute;
				left: 45%;
				top: 49%;
				transform: translate(-50%, -50%);
				object-fit: cover;
			} */

			/* video {
				height: 100%;
				object-fit: cover;
				z-index: 0;
				border-radius: 2rem;
				scale: 0.9;
			} */

			@keyframes swingY {
				0% {
					transform: rotateX(10deg) rotateY(-25deg);
				}
				100% {
					transform: rotateX(10deg) rotateY(25deg);
				}
			}
			@media (max-width: 600px) {
				.aspect-ratio-box {
					width: 80vw;
					height: 60vh;
				}
				.aspect-ratio-box video {
					scale: 0.75;
				}
			}
		</style>
	</head>
	<body>
		<div class="aspect-ratio-box">
			<video
				src="./temp/card_video6.mp4"
				autoplay
				loop
				muted
				playsinline
				style="
					height: 100%;
					object-fit: cover;
					z-index: 0;
					border-radius: 2rem;
				"></video>
			<!-- <div class="video-crop-container">
			</div> -->
			<!-- <img
				src="temp/2.png"
				alt="2"
				style="
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					object-fit: contain;
					z-index: 2;
					filter: drop-shadow(
						0 var(--shadow-y) var(--shadow-blur)
							rgba(0, 0, 0, var(--shadow-opacity))
					);
				" /> -->
			<img
				src="temp/3.png"
				alt="3"
				style="
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					object-fit: contain;
					z-index: 3;
				" />
			<img
				src="temp/5.png"
				alt="5"
				style="
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					object-fit: contain;
					z-index: 4;
				" />
			<img
				src="temp/6.png"
				alt="6"
				style="
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					object-fit: contain;
					z-index: 5;
				" />
			<img
				src="temp/7.png"
				alt="7"
				style="
					position: absolute;
					top: 0;
					left: 0;
					width: 100%;
					height: 100%;
					object-fit: contain;
					z-index: 6;
				" />
			<!-- <img
				src="final-card-assets/card_thumbnail.png"
				alt="Card Thumbnail"
				style="
					position: absolute;
					top: 50%;
					left: 50%;
					transform: translate(-50%, -50%);
					z-index: 1;
				" />
			<canvas
				id="frameCanvas"
				style="
					position: absolute;
					top: 50%;
					left: 50%;
					transform: translate(-50%, -50%);
					z-index: 2;
					width: 100%;
					height: 100%;
					pointer-events: none;
				"></canvas> -->
			<!-- <img
				src="final-card-assets/card_frame.png"
				alt="Card Frame"
				style="
					position: absolute;
					top: 50%;
					left: 50%;
					transform: translate(-50%, -50%);
					z-index: 2;
					width: 100%;
					height: 100%;
					object-fit: contain;
					pointer-events: none;
				" /> -->
		</div>
		<script>
			window.addEventListener("DOMContentLoaded", function () {
				// ...existing code...
				// Light effect logic
				const card = document.querySelector(".aspect-ratio-box");
				const light = document.getElementById("card-light");
				let lastOpacity = 0;
				function updateLight() {
					// Get current Y rotation from computed style
					const style = window.getComputedStyle(card);
					const matrix = style.transform;
					if (matrix && matrix !== "none") {
						// Parse matrix3d or matrix
						let values = matrix.match(/matrix.*\((.+)\)/)[1].split(", ");
						let yAngle = 0;
						if (values.length === 16) {
							// matrix3d
							// Approximate Y rotation from matrix3d
							// https://stackoverflow.com/a/17870117
							yAngle = Math.asin(-parseFloat(values[8])) * (180 / Math.PI);
						} else if (values.length === 6) {
							// matrix
							// Not 3D, fallback
							yAngle = 0;
						}
						// Show light only when Y rotation is between 25 and -25
						if (yAngle <= 25 && yAngle >= -25) {
							if (lastOpacity !== 1) {
								light.style.opacity = 1;
								lastOpacity = 1;
							}
						} else {
							if (lastOpacity !== 0) {
								light.style.opacity = 0;
								lastOpacity = 0;
							}
						}
					} else {
						light.style.opacity = 0;
						lastOpacity = 0;
					}
					requestAnimationFrame(updateLight);
				}
				updateLight();
			});
		</script>
	</body>
</html>
